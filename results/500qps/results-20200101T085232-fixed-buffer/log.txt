**********************
Windows PowerShell transcript start
Start time: 20200101085232
Username: NORTHAMERICA\v-yawenw
RunAs User: NORTHAMERICA\v-yawenw
Configuration Name: 
Machine: GCR-SANDBOX-010 (Microsoft Windows NT 10.0.17763.0)
Host Application: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe
Process ID: 2408
PSVersion: 5.1.17763.771
PSEdition: Desktop
PSCompatibleVersions: 1.0, 2.0, 3.0, 4.0, 5.0, 5.1.17763.771
BuildVersion: 10.0.17763.771
CLRVersion: 4.0.30319.42000
WSManStackVersion: 3.0
PSRemotingProtocolVersion: 2.3
SerializationVersion: 1.1.0.1
**********************
Transcript started, output file is C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\log.txt
{
    "abs_dir":  "C:\\hvm\\local-abs",
    "abs_appsettings":  "appsettings.json",
    "abs_data_dir":  "C:\\hvm\\abs-data",
    "registry":  "C:\\hvm\\HarvestVM\\abs-registry",
    "logger":  "C:\\hvm\\HypervMinrootLogger.exe",
    "LoggerTimeoutSec":  0,
    "CpuGroups":  "C:\\hvm\\CpuGroups.exe",
    "result_dir_base":  "C:\\hvm\\Results-010",
    "reuse_existing_vm_instances":  false,
    "buffer_sizes":  "2,3,4,5,6,7",
    "iterations":  2,
    "hvmagent_modes":  "SmartCpuGroups-10-sleep_ms",
    "cpugroups_delay":  10000,
    "ipi_delay":  1000,
    "MinRootMask":  "0xfffffff",
    "hvmagent":  {
                     "path":  "C:\\hvm\\hvmagent.exe",
                     "extra_args":  " --pin_primary "
                 },
    "smart_hvmagent":  {
                           "path":  "C:\\hvm\\harvestvm.exe",
                           "duration_sec":  62,
                           "extra_args":  ""
                       },
    "LatSensitive":  {
                         "vcpus":  10,
                         "HwThreadCountPerCore":  1,
                         "WorkerCnt":  8,
                         "Duration":  62,
                         "TracePath":  "trace-8-worker-160-qps-0.2-load-4-wakeups-const.txt"
                     },
    "Memcached":  {
                      "vcpus":  10,
                      "ServerThreads":  10,
                      "ServerMemoryMB":  4096,
                      "ClientThreads":  6,
                      "ClientQps":  100000,
                      "HwThreadCountPerCore":  1
                  },
    "CPUBully":  {
                     "vcpus":  12,
                     "HwThreadCountPerCore":  1,
                     "Timeout":  1,
                     "Workers":  12,
                     "HvmAgentAffinity":  0,
                     "WarmupSeconds":  0
                 },
    "IndexServe":  {
                       "vcpus":  11,
                       "HwThreadCountPerCore":  1,
                       "GetCaptionXLAWarmUpLogParameters":  "-q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10",
                       "WarmUpLogPath":  "D:\\data\\querylogs\\warmup_query.log",
                       "WarmUpLogQps":  2000,
                       "RunWarmUpQueries":  1,
                       "GetCaptionXLAQueryLogParameters":  "-q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10",
                       "QueryLogPath":  "D:\\data\\querylogs\\PROD_2019-07-01_WebPrecision_Draco_25262_saaslego.tsv",
                       "QueryLogPath_1":  "D:\\data\\querylogs\\warmup_query.log",
                       "Orig_QueryLogPath":  "D:\\data\\querylogs\\PROD_2017-08-29_WebPrecision_Draco_24714.tsv",
                       "QueryLogQps":  500,
                       "DurationSec":  60,
                       "SaasQueryPlan":  " -SaasQueryPlan -LargeQueryLog ",
                       "WarmupSeconds":  10
                   },
    "HostCountersFile":  "HostPerformanceCounters.csv",
    "HostCounters":  [
                         "\\Hyper-V Hypervisor Virtual Processor(_Total)\\% Total Run Time",
                         "\\Hyper-V Hypervisor Virtual Processor(_Total)\\CPU Wait Time Per Dispatch",
                         "\\Hyper-V Hypervisor Logical Processor(_Total)\\% Total Run Time",
                         "\\Hyper-V Hypervisor Logical Processor(_Total)\\% Hypervisor Run Time",
                         "\\Hyper-V Hypervisor Logical Processor(_Total)\\% Guest Run Time",
                         "\\Hyper-V Hypervisor Virtual Processor(*)\\% Total Run Time",
                         "\\Hyper-V Hypervisor Logical Processor(*)\\% Total Run Time",
                         "\\Hyper-V Hypervisor Logical Processor(*)\\% Guest Run Time"
                     ]
}

********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   2
***     Iter:  0  /   + 1
********************************


    Directory: C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\S
    martCpuGroups-10-sleep_ms\buf-2


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         1/1/2020   8:52 AM                0
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 2 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\0\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
info: AzureBenchmarkSuite.Program[0]
      Running Azure Benchmark Suite
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenarios path: C:\hvm\HarvestVM\abs-registry\.\Scenarios
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.BullyAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.HDInsight.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVMMultiple.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereAloneCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMMultiplePrimary.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMSetupOnly.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.LatSensitiveAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparate.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparateHVM.json
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Checking available resources.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Number of Logical Cores: 3. Required Logical Cores: 23.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Execute Scenario: Gen5.IndexServeHVM
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up VMs *************************************

info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is IndexServe
info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is CPUBully
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\CPUBully-1-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd already exists on host.
Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM CPUBully-1-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Attaching VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd to vm IndexSer
ve-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting Automatic Stop Action to TurnOff for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Getting list of NVMe devices
info: AzureBenchmarkSuite.PSWrapper[0]
      Disabling NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Dismounting NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) from host
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigning NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigned NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM IndexServe-0-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is ready.
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is ready.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VMs completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up benchmarks *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Changing E: to K:
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting SaaSDataService
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting Saas service
info: AzureBenchmarkSuite.PSWrapper[0]
      Truncating query log to 30000 queries
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      SaaS and SaaSDataService StartUp are completed at 2020-01-01T08:57:56.1550544-08:00
info: AzureBenchmarkSuite.PSWrapper[0]
      Running Warmup Queries..
info: AzureBenchmarkSuite.PSWrapper[0]
      Running command: .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n
 5 -c 10 -WarmupSeconds 10 -f D:\data\querylogs\warmup_query.log 0 2000 0 bla localhost:8400 > D:\SaaS_Results\warmup_re
s.log 2>$null
info: AzureBenchmarkSuite.PSWrapper[0]
      Warmup completed at 2020-01-01T08:59:08.8401743-08:00.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of host monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting resource monitoring for individual VMs *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VM monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Running benchmarks *************************************

info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario duration is set to 1 seconds
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 4:59:12 PM +00:00: Scenario started
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-08-59-12-AM: Benchmark is started in IndexServe-0-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Running .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10
-WarmupSeconds 10 -f D:\querylog.tsv 0 500 0 bla localhost:8400 >> D:\IndexServe\FinalResults\query_res.log 2>$null
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-08-59-42-AM: Benchmark is started in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting hvmagent: C:\hvm\harvestvm.exe.
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 8:59:44 AM +  >>> hvmagent started
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting hvmagent process priority class to High
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping 0 seconds before launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 8:59:44 AM +  >>> ready to launch bully
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 8:59:44 AM +  >>> starting to run bully
Num weight bits = 18
learning rate = 0.1
initial_t = 0
power_t = 0
using no cache
Reading datafile =
num sources = 1
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-00-26-AM: Benchmark IndexServe is finished in IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:00:46 AM +  >>> bully finished
info: AzureBenchmarkSuite.PSWrapper[0]
      Waiting for hvmagent process
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-00-52-AM: Benchmark CPUBully is finished in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:00:52 PM +00:00: Scenario completed
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Running benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping resource monitoring for individual VMs *************************************

Script completed.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped host resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Collecting results *************************************

info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM IndexServe-0-0 with IP 192.168.10.20
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying D:\IndexServe\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085
232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\0\IndexServe-0-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\0\IndexServe-0-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM CPUBully-1-0 with IP 192.168.10.22
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying C:\CPUBully\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T08523
2-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\0\CPUBully-1-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\0\CPUBully-1-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Collecting results completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Cleaning up ****************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   2
***     Iter:  1  /   + 1
********************************
d-----         1/1/2020   9:01 AM                1
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 2 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\1\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
info: AzureBenchmarkSuite.Program[0]
      Running Azure Benchmark Suite
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenarios path: C:\hvm\HarvestVM\abs-registry\.\Scenarios
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.BullyAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.HDInsight.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVMMultiple.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereAloneCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMMultiplePrimary.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMSetupOnly.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.LatSensitiveAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparate.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparateHVM.json
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Checking available resources.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Number of Logical Cores: 3. Required Logical Cores: 23.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Execute Scenario: Gen5.IndexServeHVM
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up VMs *************************************

info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is IndexServe
info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is CPUBully
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\CPUBully-1-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd already exists on host.
Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Attaching VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd to vm IndexSer
ve-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM CPUBully-1-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting Automatic Stop Action to TurnOff for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Getting list of NVMe devices
info: AzureBenchmarkSuite.PSWrapper[0]
      Disabling NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Dismounting NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) from host
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigning NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigned NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM IndexServe-0-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is ready.
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is ready.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VMs completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up benchmarks *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Changing E: to K:
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting SaaSDataService
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting Saas service
info: AzureBenchmarkSuite.PSWrapper[0]
      Truncating query log to 30000 queries
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      SaaS and SaaSDataService StartUp are completed at 2020-01-01T09:06:48.2543630-08:00
info: AzureBenchmarkSuite.PSWrapper[0]
      Running Warmup Queries..
info: AzureBenchmarkSuite.PSWrapper[0]
      Running command: .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n
 5 -c 10 -WarmupSeconds 10 -f D:\data\querylogs\warmup_query.log 0 2000 0 bla localhost:8400 > D:\SaaS_Results\warmup_re
s.log 2>$null
info: AzureBenchmarkSuite.PSWrapper[0]
      Warmup completed at 2020-01-01T09:08:00.9301145-08:00.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of host monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting resource monitoring for individual VMs *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VM monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Running benchmarks *************************************

info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario duration is set to 1 seconds
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:08:04 PM +00:00: Scenario started
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-08-04-AM: Benchmark is started in IndexServe-0-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Running .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10
-WarmupSeconds 10 -f D:\querylog.tsv 0 500 0 bla localhost:8400 >> D:\IndexServe\FinalResults\query_res.log 2>$null
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-08-34-AM: Benchmark is started in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting hvmagent: C:\hvm\harvestvm.exe.
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:08:35 AM +  >>> hvmagent started
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting hvmagent process priority class to High
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping 0 seconds before launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:08:35 AM +  >>> ready to launch bully
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:08:35 AM +  >>> starting to run bully
Num weight bits = 18
learning rate = 0.1
initial_t = 0
power_t = 0
using no cache
Reading datafile =
num sources = 1
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-09-18-AM: Benchmark IndexServe is finished in IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:09:37 AM +  >>> bully finished
info: AzureBenchmarkSuite.PSWrapper[0]
      Waiting for hvmagent process
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-09-43-AM: Benchmark CPUBully is finished in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:09:43 PM +00:00: Scenario completed
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Running benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping resource monitoring for individual VMs *************************************

Script completed.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped host resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Collecting results *************************************

info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM IndexServe-0-0 with IP 192.168.10.20
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying D:\IndexServe\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085
232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\1\IndexServe-0-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\1\IndexServe-0-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM CPUBully-1-0 with IP 192.168.10.22
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying C:\CPUBully\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T08523
2-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\1\CPUBully-1-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-2\1\CPUBully-1-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Collecting results completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Cleaning up ****************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   3
***     Iter:  0  /   + 1
********************************


    Directory: C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\S
    martCpuGroups-10-sleep_ms\buf-3


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         1/1/2020   9:10 AM                0
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 3 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\0\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
info: AzureBenchmarkSuite.Program[0]
      Running Azure Benchmark Suite
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenarios path: C:\hvm\HarvestVM\abs-registry\.\Scenarios
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.BullyAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.HDInsight.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVMMultiple.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereAloneCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMMultiplePrimary.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMSetupOnly.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.LatSensitiveAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparate.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparateHVM.json
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Checking available resources.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Number of Logical Cores: 3. Required Logical Cores: 23.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Execute Scenario: Gen5.IndexServeHVM
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up VMs *************************************

info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is IndexServe
info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is CPUBully
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\CPUBully-1-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd already exists on host.
Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM CPUBully-1-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Attaching VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd to vm IndexSer
ve-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting Automatic Stop Action to TurnOff for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Getting list of NVMe devices
info: AzureBenchmarkSuite.PSWrapper[0]
      Disabling NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Dismounting NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) from host
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigning NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigned NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM IndexServe-0-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is ready.
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is ready.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VMs completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up benchmarks *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Changing E: to K:
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting SaaSDataService
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting Saas service
info: AzureBenchmarkSuite.PSWrapper[0]
      Truncating query log to 30000 queries
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      SaaS and SaaSDataService StartUp are completed at 2020-01-01T09:15:39.6396102-08:00
info: AzureBenchmarkSuite.PSWrapper[0]
      Running Warmup Queries..
info: AzureBenchmarkSuite.PSWrapper[0]
      Running command: .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n
 5 -c 10 -WarmupSeconds 10 -f D:\data\querylogs\warmup_query.log 0 2000 0 bla localhost:8400 > D:\SaaS_Results\warmup_re
s.log 2>$null
info: AzureBenchmarkSuite.PSWrapper[0]
      Warmup completed at 2020-01-01T09:16:52.2943543-08:00.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of host monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting resource monitoring for individual VMs *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VM monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Running benchmarks *************************************

info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario duration is set to 1 seconds
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:16:56 PM +00:00: Scenario started
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-16-56-AM: Benchmark is started in IndexServe-0-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Running .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10
-WarmupSeconds 10 -f D:\querylog.tsv 0 500 0 bla localhost:8400 >> D:\IndexServe\FinalResults\query_res.log 2>$null
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-17-26-AM: Benchmark is started in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting hvmagent: C:\hvm\harvestvm.exe.
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:17:27 AM +  >>> hvmagent started
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting hvmagent process priority class to High
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping 0 seconds before launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:17:27 AM +  >>> ready to launch bully
Num weight bits = 18
learning rate = 0.1
initial_t = 0
power_t = 0
using no cache
Reading datafile =
num sources = 1
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:17:28 AM +  >>> starting to run bully
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-18-09-AM: Benchmark IndexServe is finished in IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:18:30 AM +  >>> bully finished
info: AzureBenchmarkSuite.PSWrapper[0]
      Waiting for hvmagent process
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-18-35-AM: Benchmark CPUBully is finished in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:18:35 PM +00:00: Scenario completed
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Running benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping resource monitoring for individual VMs *************************************

Script completed.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped host resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Collecting results *************************************

info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM IndexServe-0-0 with IP 192.168.10.20
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying D:\IndexServe\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085
232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\0\IndexServe-0-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\0\IndexServe-0-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM CPUBully-1-0 with IP 192.168.10.22
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying C:\CPUBully\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T08523
2-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\0\CPUBully-1-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\0\CPUBully-1-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Collecting results completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Cleaning up ****************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   3
***     Iter:  1  /   + 1
********************************
d-----         1/1/2020   9:19 AM                1
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 3 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\1\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
info: AzureBenchmarkSuite.Program[0]
      Running Azure Benchmark Suite
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenarios path: C:\hvm\HarvestVM\abs-registry\.\Scenarios
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.BullyAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.HDInsight.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVMMultiple.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereAloneCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMMultiplePrimary.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMSetupOnly.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.LatSensitiveAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparate.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparateHVM.json
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Checking available resources.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Number of Logical Cores: 3. Required Logical Cores: 23.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Execute Scenario: Gen5.IndexServeHVM
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up VMs *************************************

info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is IndexServe
info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is CPUBully
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\CPUBully-1-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd already exists on host.
Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM CPUBully-1-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Attaching VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd to vm IndexSer
ve-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting Automatic Stop Action to TurnOff for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Getting list of NVMe devices
info: AzureBenchmarkSuite.PSWrapper[0]
      Disabling NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Dismounting NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) from host
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigning NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigned NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM IndexServe-0-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is ready.
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is ready.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VMs completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up benchmarks *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Changing E: to K:
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting SaaSDataService
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting Saas service
info: AzureBenchmarkSuite.PSWrapper[0]
      Truncating query log to 30000 queries
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      SaaS and SaaSDataService StartUp are completed at 2020-01-01T09:24:32.8911910-08:00
info: AzureBenchmarkSuite.PSWrapper[0]
      Running Warmup Queries..
info: AzureBenchmarkSuite.PSWrapper[0]
      Running command: .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n
 5 -c 10 -WarmupSeconds 10 -f D:\data\querylogs\warmup_query.log 0 2000 0 bla localhost:8400 > D:\SaaS_Results\warmup_re
s.log 2>$null
info: AzureBenchmarkSuite.PSWrapper[0]
      Warmup completed at 2020-01-01T09:25:45.5809157-08:00.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of host monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting resource monitoring for individual VMs *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VM monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Running benchmarks *************************************

info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario duration is set to 1 seconds
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:25:49 PM +00:00: Scenario started
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-25-49-AM: Benchmark is started in IndexServe-0-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Running .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10
-WarmupSeconds 10 -f D:\querylog.tsv 0 500 0 bla localhost:8400 >> D:\IndexServe\FinalResults\query_res.log 2>$null
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-26-19-AM: Benchmark is started in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting hvmagent: C:\hvm\harvestvm.exe.
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:26:19 AM +  >>> hvmagent started
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting hvmagent process priority class to High
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping 0 seconds before launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:26:19 AM +  >>> ready to launch bully
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:26:20 AM +  >>> starting to run bully
Num weight bits = 18
learning rate = 0.1
initial_t = 0
power_t = 0
using no cache
Reading datafile =
num sources = 1
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-27-02-AM: Benchmark IndexServe is finished in IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:27:21 AM +  >>> bully finished
info: AzureBenchmarkSuite.PSWrapper[0]
      Waiting for hvmagent process
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-27-27-AM: Benchmark CPUBully is finished in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:27:27 PM +00:00: Scenario completed
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Running benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping resource monitoring for individual VMs *************************************

Script completed.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped host resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Collecting results *************************************

info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM IndexServe-0-0 with IP 192.168.10.20
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying D:\IndexServe\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085
232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\1\IndexServe-0-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\1\IndexServe-0-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM CPUBully-1-0 with IP 192.168.10.22
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying C:\CPUBully\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T08523
2-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\1\CPUBully-1-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-3\1\CPUBully-1-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Collecting results completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Cleaning up ****************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   4
***     Iter:  0  /   + 1
********************************


    Directory: C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\S
    martCpuGroups-10-sleep_ms\buf-4


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         1/1/2020   9:27 AM                0
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 4 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\0\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
info: AzureBenchmarkSuite.Program[0]
      Running Azure Benchmark Suite
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenarios path: C:\hvm\HarvestVM\abs-registry\.\Scenarios
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.BullyAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.HDInsight.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVMMultiple.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereAloneCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMMultiplePrimary.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMSetupOnly.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.LatSensitiveAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparate.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparateHVM.json
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Checking available resources.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Number of Logical Cores: 3. Required Logical Cores: 23.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Execute Scenario: Gen5.IndexServeHVM
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up VMs *************************************

info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is IndexServe
info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is CPUBully
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\CPUBully-1-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd already exists on host.
Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM CPUBully-1-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Attaching VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd to vm IndexSer
ve-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting Automatic Stop Action to TurnOff for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Getting list of NVMe devices
info: AzureBenchmarkSuite.PSWrapper[0]
      Disabling NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Dismounting NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) from host
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigning NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigned NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM IndexServe-0-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is ready.
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is ready.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VMs completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up benchmarks *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Changing E: to K:
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting SaaSDataService
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting Saas service
info: AzureBenchmarkSuite.PSWrapper[0]
      Truncating query log to 30000 queries
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      SaaS and SaaSDataService StartUp are completed at 2020-01-01T09:33:22.2033250-08:00
info: AzureBenchmarkSuite.PSWrapper[0]
      Running Warmup Queries..
info: AzureBenchmarkSuite.PSWrapper[0]
      Running command: .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n
 5 -c 10 -WarmupSeconds 10 -f D:\data\querylogs\warmup_query.log 0 2000 0 bla localhost:8400 > D:\SaaS_Results\warmup_re
s.log 2>$null
info: AzureBenchmarkSuite.PSWrapper[0]
      Warmup completed at 2020-01-01T09:34:34.8480269-08:00.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of host monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting resource monitoring for individual VMs *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VM monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Running benchmarks *************************************

info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario duration is set to 1 seconds
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:34:38 PM +00:00: Scenario started
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-34-38-AM: Benchmark is started in IndexServe-0-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Running .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10
-WarmupSeconds 10 -f D:\querylog.tsv 0 500 0 bla localhost:8400 >> D:\IndexServe\FinalResults\query_res.log 2>$null
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-35-08-AM: Benchmark is started in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting hvmagent: C:\hvm\harvestvm.exe.
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:35:08 AM +  >>> hvmagent started
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting hvmagent process priority class to High
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping 0 seconds before launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:35:08 AM +  >>> ready to launch bully
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:35:09 AM +  >>> starting to run bully
Num weight bits = 18
learning rate = 0.1
initial_t = 0
power_t = 0
using no cache
Reading datafile =
num sources = 1
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-35-52-AM: Benchmark IndexServe is finished in IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:36:10 AM +  >>> bully finished
info: AzureBenchmarkSuite.PSWrapper[0]
      Waiting for hvmagent process
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-36-16-AM: Benchmark CPUBully is finished in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:36:16 PM +00:00: Scenario completed
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Running benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping resource monitoring for individual VMs *************************************

Script completed.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped host resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Collecting results *************************************

info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM IndexServe-0-0 with IP 192.168.10.20
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying D:\IndexServe\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085
232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\0\IndexServe-0-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\0\IndexServe-0-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM CPUBully-1-0 with IP 192.168.10.22
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying C:\CPUBully\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T08523
2-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\0\CPUBully-1-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\0\CPUBully-1-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Collecting results completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Cleaning up ****************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   4
***     Iter:  1  /   + 1
********************************
d-----         1/1/2020   9:36 AM                1
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 4 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\1\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
info: AzureBenchmarkSuite.Program[0]
      Running Azure Benchmark Suite
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenarios path: C:\hvm\HarvestVM\abs-registry\.\Scenarios
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.BullyAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.HDInsight.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.IndexServeHVMMultiple.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereAloneCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereCPUGroups.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMMultiplePrimary.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.InterfereHVMSetupOnly.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.LatSensitiveAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedAlone.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedHVM.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparate.json
info: AzureBenchmarkSuite.CommandLine.Command[0]
      scenario: C:\hvm\HarvestVM\abs-registry\.\Scenarios\Gen5.MemcachedSeparateHVM.json
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Checking available resources.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Number of Logical Cores: 3. Required Logical Cores: 23.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Execute Scenario: Gen5.IndexServeHVM
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up VMs *************************************

info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is IndexServe
info: AzureBenchmarkSuite.Benchmarks.SetupVMStep[0]
      [ABS] Benchmark name is CPUBully
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      BenchmarkSpecification AzureBenchmarkSuite.Config.BenchmarkVMSpec
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\CPUBully-1-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-OS-VHD.vhd already exists on host. Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd already exists on host.
Will not copy again.
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting virtual cores and memory for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting HwThreadsPerCore for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting static memory configuration for VM
info: AzureBenchmarkSuite.PSWrapper[0]
      Attaching VHD C:\hvm\abs-data\IndexServe-0-0-SaaS-Data-and-App-Folders-Drive-D-In-Target-VM-VHD.vhd to vm IndexSer
ve-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM CPUBully-1-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting Automatic Stop Action to TurnOff for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Getting list of NVMe devices
info: AzureBenchmarkSuite.PSWrapper[0]
      Disabling NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Dismounting NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) from host
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigning NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Assigned NVMe device PCIROOT(AE)#PCI(0000)#PCI(0000) to IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Creating checkpoint for VM IndexServe-0-0 before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM CPUBully-1-0 is ready.
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is accepting commands.
info: AzureBenchmarkSuite.PSWrapper[0]
      VM IndexServe-0-0 is ready.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VMs completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ setting up benchmarks *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying dependencies, and generating test data.
info: AzureBenchmarkSuite.PSWrapper[0]
      Changing E: to K:
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting SaaSDataService
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting Saas service
info: AzureBenchmarkSuite.PSWrapper[0]
      Truncating query log to 30000 queries
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping for 60 seconds
info: AzureBenchmarkSuite.PSWrapper[0]
      Checking if Saas is started..
info: AzureBenchmarkSuite.PSWrapper[0]
      SaaS and SaaSDataService StartUp are completed at 2020-01-01T09:42:09.8187814-08:00
info: AzureBenchmarkSuite.PSWrapper[0]
      Running Warmup Queries..
info: AzureBenchmarkSuite.PSWrapper[0]
      Running command: .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n
 5 -c 10 -WarmupSeconds 10 -f D:\data\querylogs\warmup_query.log 0 2000 0 bla localhost:8400 > D:\SaaS_Results\warmup_re
s.log 2>$null
info: AzureBenchmarkSuite.PSWrapper[0]
      Warmup completed at 2020-01-01T09:43:22.5341677-08:00.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of host monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Starting resource monitoring for individual VMs *************************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting vm monitoring for CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      creating file c:\counters-list.txt
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting process typeperf with output file: C:\ResourceLogs\Counters.txt
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Setting of VM monitoring completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Running benchmarks *************************************

info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario duration is set to 1 seconds
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:43:26 PM +00:00: Scenario started
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      Scenario run instance: 0 {0}
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-43-26-AM: Benchmark is started in IndexServe-0-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Running .\GetCaptionXLA.exe -q -SaasQueryPlan -LargeQueryLog -uniqueTraceIds -printPercentileLatencies -n 5 -c 10
-WarmupSeconds 10 -f D:\querylog.tsv 0 500 0 bla localhost:8400 >> D:\IndexServe\FinalResults\query_res.log 2>$null
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-43-56-AM: Benchmark is started in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      [ABS] Script path: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyRunBenchmark.ps1
info: AzureBenchmarkSuite.PSWrapper[0]
      Running benchmark
info: AzureBenchmarkSuite.PSWrapper[0]
      Starting hvmagent: C:\hvm\harvestvm.exe.
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:43:57 AM +  >>> hvmagent started
info: AzureBenchmarkSuite.PSWrapper[0]
      Setting hvmagent process priority class to High
info: AzureBenchmarkSuite.PSWrapper[0]
      Sleeping 0 seconds before launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      Launching CPUBully workload
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:43:57 AM +  >>> ready to launch bully
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:43:57 AM +  >>> starting to run bully
Num weight bits = 18
learning rate = 0.1
initial_t = 0
power_t = 0
using no cache
Reading datafile =
num sources = 1
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-44-39-AM: Benchmark IndexServe is finished in IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      1/1/2020 9:44:58 AM +  >>> bully finished
info: AzureBenchmarkSuite.PSWrapper[0]
      Waiting for hvmagent process
info: AzureBenchmarkSuite.PSWrapper[0]
      Benchmark completed
Script completed.
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      01-01-2020-09-45-03-AM: Benchmark CPUBully is finished in CPUBully-1-0
info: AzureBenchmarkSuite.Benchmarks.RunBenchmarkStep[0]
      1/1/2020 5:45:03 PM +00:00: Scenario completed
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Running benchmarks completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping resource monitoring for individual VMs *************************************

Script completed.
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Stopping host resource monitoring *************************************

info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      stopped host resource monitoring
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Collecting results *************************************

info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM IndexServe-0-0 with IP 192.168.10.20
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying D:\IndexServe\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085
232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\1\IndexServe-0-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\1\IndexServe-0-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\IndexServe\.\IndexServeParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Collecting results from VM CPUBully-1-0 with IP 192.168.10.22
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying C:\CPUBully\FinalResults to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T08523
2-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\1\CPUBully-1-0-result
info: AzureBenchmarkSuite.PSWrapper[0]
      Copying resource counters to C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-wor
kers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-4\1\CPUBully-1-0-result
Script completed.
info: AzureBenchmarkSuite.Benchmarks.CollectResultStep[0]
      [ABS] Parking key metric: C:\hvm\HarvestVM\abs-registry\.\Benchmarks\CPUBully\.\CPUBullyParseResults.ps1
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Collecting results completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]

************************ Cleaning up ****************************

info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Stopping VM IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   5
***     Iter:  0  /   + 1
********************************


    Directory: C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\S
    martCpuGroups-10-sleep_ms\buf-5


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         1/1/2020   9:45 AM                0
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 5 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-5\0\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0
      Stopping VM CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM CPUBully-1-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint CPUBully-1-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm CPUBully-1-0
Script completed.
info: AzureBenchmarkSuite.PSWrapper[0]
      Restoring checkpoint for VM IndexServe-0-0 to before running the experiments.
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing checkpoint IndexServe-0-0
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing all DDA device to host
info: AzureBenchmarkSuite.PSWrapper[0]
      Enabling NVMe device 'Standard NVM Express Controller' on host
info: AzureBenchmarkSuite.PSWrapper[0]
      Removing vm IndexServe-0-0
Script completed.
info: AzureBenchmarkSuite.Benchmarks.BenchmarkScenarioRunner[0]
      Cleanup completed.

























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   5
***     Iter:  1  /   + 1
********************************
d-----         1/1/2020   9:53 AM                1
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 5 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-5\1\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0


























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   6
***     Iter:  0  /   + 1
********************************


    Directory: C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\S
    martCpuGroups-10-sleep_ms\buf-6


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         1/1/2020  10:02 AM                0
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 6 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-6\0\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0


























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   6
***     Iter:  1  /   + 1
********************************
d-----         1/1/2020  10:10 AM                1
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 6 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-6\1\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0


























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   7
***     Iter:  0  /   + 1
********************************


    Directory: C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\S
    martCpuGroups-10-sleep_ms\buf-7


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         1/1/2020  10:19 AM                0
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 7 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-7\0\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0


























********************************
*** Running Test:
***     hvmagent-mode: SmartCpuGroups-10-sleep_ms
***     buffer-size:   7
***     Iter:  1  /   + 1
********************************
d-----         1/1/2020  10:27 AM                1
Removing existing CpuGroups

Removed existing CpuGroups
primary_names = IndexServe
--buffer 7 --csv C:\hvm\Results-010\indexserve\500qps\single\9vcpu-110MB\results-20200101T085232-8-workers-fixed-buffer\SmartCpuGroups-10-sleep_ms\buf-7\1\hvmagent.csv --duration_sec 60 --primary_size 11  --primary_names IndexServe --debug_peak 0 --logging 1 --minroot_mask 0xfff --reactive_buffer_mode 0 --delay_ms 1 --mode DISJOINT_CpuGroups  --learning_algo csoaa --learning_mode 0 --learning_ms 0 --debug 0 --no_harvesting 0 --primary_alone 0 --timing 0 --feedback 0 --feedback_ms 0 --sleep_ms 10 --drop_bad_features 0 --read_cpu_sleep_us 50 --update_primary 1 --pred_one_over 0 --fixed_delay 0

























**********************
Windows PowerShell transcript end
End time: 20200101103652
**********************
